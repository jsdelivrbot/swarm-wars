<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<title>swarm-wars check</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.20.19/system.js"></script>
<script src="./system.config.js"></script>
<script src="./app.js"></script>
<script>
    window.addEventListener('load', function(e) {
        System
            .import('main')
            .then(null, console.error.bind(console));
    });

    // https://stackoverflow.com/a/13106972/2224730
    // Check if a new cache is available on page load.
    window.addEventListener('load', function(e) {
        window.applicationCache.addEventListener('updateready', function(e) {
            if (window.applicationCache.status == window.applicationCache.UPDATEREADY) {
                // Browser downloaded a new app cache.
                // Swap it in and reload the page to get the new hotness.
                window.applicationCache.swapCache();
                if (confirm('A new version of this site is available. Load it?')) {
                    window.location.reload();
                }
            } else {
                // Manifest didn't changed. Nothing new to server.
            }
        }, false);
    }, false);

</script>
<style>
    .display {
        position: absolute; 
        top: 0; 
        left: 0;
        width: 100%;
        height: 100%;
    }
    #canvas {
        background-color:#333333;
        z-index: -50;
    }
    #canvas-debug {
        background-color:rgba(0, 0, 0, 0);
        z-index: -40;
        visibility: hidden;
    }
    #gui {
        /* background-color: rgba(255, 255, 255, 0.171); */
        color: white;
    }
</style>

</head>
<body>
    <canvas id="canvas" class="display"></canvas>
    <canvas id="canvas-debug" class="display"></canvas>
    <div id="gui">
        <div id="fps-label"></div>
    </div>
</body>
</html>
